(this.webpackJsonpgameoflife=this.webpackJsonpgameoflife||[]).push([[0],{64:function(e,t,a){e.exports=a(76)},72:function(e,t,a){},73:function(e,t){function a(e,t,a,n){var r=function(e,t,a,n){for(var r=0,l=-1;l<2;l++)for(var i=-1;i<2;i++){var o=(e+l)%n,s=(t+i)%n;o<0&&(o=n+o),s<0&&(s=n+s),r+=a[o][s]}return r-=a[e][t]}(e,t,n,a),l=n[e][t];return 1===n[e][t]?r<2?l=0:2===r||3===r?l=1:r>3&&(l=0):3===r&&(l=1),l}function n(e){return Array.from({length:e},(function(t){return Array(e).fill(0)}))}e.exports={initialize2dArray:n,nextGen:function(e,t){for(var r=n(e),l=!0,i=0;i<e;i++)for(var o=0;o<e;o++)r[i][o]=a(i,o,e,t),l&&r[i][o]!==t[i][o]&&(l=!1);return[r,l]},fillPattern:function(e,t){var a=n(e);if(!t||t.rows>e||t.columns>e)return a;for(var r=[Math.floor(e/2),Math.floor(e/2)],l=[Math.floor(t.rows/2),Math.floor(t.columns/2)],i=r[1]-l[1],o=0,s=r[0]-l[0];o<t.rows;o++,s++)for(var c=0,u=i;c<t.columns;c++,u++)a[s][u]=t.data[o][c];return a},getRandomCell:function(e){return Math.random()<parseFloat(e)?1:0}}},74:function(e,t){e.exports={defaultPatternList:[{name:"Glider",rows:3,columns:3,data:[[0,1,0],[0,0,1],[1,1,1]]},{name:"Blinker",rows:1,columns:3,data:[[1,1,1]]},{name:"Beacon",rows:4,columns:4,data:[[1,1,0,0],[1,1,0,0],[0,0,1,1],[0,0,1,1]]},{name:"R-pentomino",rows:3,columns:3,data:[[0,1,1],[1,1,0],[0,1,0]]}],compressPattern:function(e){var t=e.filter((function(e){return-1!==e.indexOf(1)})),a=t.map((function(e){return e.indexOf(1)})).reduce((function(e,t){return e>t?t:e}),t[0].length-1);console.log("leftMostNonEmptyCol",a);var n=t.map((function(e){return e.lastIndexOf(1)})).reduce((function(e,t){return e<t?t:e}),0);console.log("rightMostNonEmptyCol",n);for(var r=0;r<a;r++)for(var l=0;l<t.length;l++)t[l][r]=void 0;for(var i=n+1;i<t[0].length;i++)for(var o=0;o<t.length;o++)t[o][i]=void 0;return console.table(t),t=t.map((function(e){return e.filter((function(e){return 0===e||1===e}))})),console.table(t),t}}},75:function(e,t,a){"use strict";a.r(t),a.d(t,"Load",(function(){return O})),a.d(t,"Save",(function(){return b})),a.d(t,"Play",(function(){return P})),a.d(t,"ResizeCells",(function(){return w})),a.d(t,"Footer",(function(){return E}));var n=a(28),r=a(29),l=a(13),i=a(35),o=a(34),s=a(27),c=a(0),u=a.n(c),d=a(45),m=a(77),f=a(52),h=a(79),p=a(82),v=a(51),g=a(78),y=Object(m.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:"8rem",display:"flex",justifyContent:"center",alignContent:"center"}}}));function O(e){var t=y(),a=u.a.useState(e.patternName),n=Object(s.a)(a,2),r=n[0],l=n[1];return u.a.createElement(g.a,{className:t.formControl},u.a.createElement(p.a,{id:"pattern-select-label"},"Load a pattern"),u.a.createElement(h.a,{labelId:"pattern-select-label",value:r,onChange:function(t){l(t.target.value),""!==t.target.value&&e.handleDropdownChange(t)}},u.a.createElement(v.a,{value:""},u.a.createElement("em",null,"None")),e.patternExamples.map((function(e,t){return u.a.createElement(v.a,{key:t,value:t},e.name)}))))}var b=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={value:""},r.handleChange=r.handleChange.bind(Object(l.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(l.a)(r)),r}return Object(r.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onClick(this.state.value),this.setState({value:""})}},{key:"render",value:function(){return u.a.createElement("form",{className:"saveForm",style:{margin:"0.5rem 0.25rem"}},u.a.createElement(f.a,{type:"text",value:this.state.value,label:"Save pattern",style:{marginRight:"0.25rem"},onChange:this.handleChange,disabled:this.props.disabled,variant:"outlined",size:"small"}),u.a.createElement(d.a,{size:"small",variant:"contained",color:"primary",disabled:this.props.disabled||!this.state.value,onClick:this.handleSubmit},"Save"))}}]),a}(u.a.Component);function P(e){return u.a.createElement("div",{className:"playBar"},u.a.createElement(d.a,{size:"small",variant:"contained",color:"primary",onClick:e.playOrPause},e.toPlay?"Pause":"Play"),u.a.createElement(d.a,{size:"small",variant:"contained",color:"primary",disabled:Boolean(e.toPlay),onClick:e.upgradeGrid},"Next Gen"),u.a.createElement(d.a,{size:"small",variant:"contained",color:"primary",onClick:e.clearGrid},"Clear grid"))}var w=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={value:e.noOfRows},r.handleChange=r.handleChange.bind(Object(l.a)(r)),r.handleBlur=r.handleBlur.bind(Object(l.a)(r)),r}return Object(r.a)(a,[{key:"handleChange",value:function(e){var t=parseInt(e.target.value);this.setState({value:t})}},{key:"handleBlur",value:function(e){var t=parseInt(e.target.value);this.setState({value:t}),t&&t>0&&this.props.resizeGrid(t)}},{key:"render",value:function(){return u.a.createElement("div",{id:"resize-cells",className:"resize-cells",style:{margin:"0.5rem 0.25rem",alignContent:"center",display:"flex",flexWrap:"wrap"}},u.a.createElement(f.a,{type:"number",label:"No. of rows",InputLabelProps:{shrink:!0},value:this.state.value,onChange:this.handleChange,onBlur:this.handleBlur,variant:"outlined",size:"small"}))}}]),a}(u.a.Component);function E(e){return u.a.createElement("div",{id:"footer",className:"footer",style:{display:"flex",flexDirection:"column"}},u.a.createElement("span",null,"Source code:"," ",u.a.createElement("a",{href:"https://github.com/DharmikOO7/gameoflife",target:"_blank",rel:"noopener noreferrer"},"Github")),u.a.createElement("span",null,"More Info:"," ",u.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",target:"_blank",rel:"noopener noreferrer"},"Wiki")))}},76:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(13),l=a(28),i=a(29),o=a(35),s=a(34),c=a(0),u=a.n(c),d=a(113),m=a(117),f=a(45),h=a(77),p=Object(h.a)((function(e){return{randomPattern:{margin:"0.5rem 0.25rem",display:"flex",flexWrap:"wrap",alignContent:"center"}}}));function v(e){var t=u.a.useState(50),a=Object(n.a)(t,2),r=a[0],l=a[1],i=p();return u.a.createElement("div",{className:i.randomPattern},u.a.createElement("div",null,u.a.createElement(d.a,{id:"continuous-slider",gutterBottom:!0},"Probability(",r,"%) of live cell"),u.a.createElement(m.a,{defaultValue:50,value:r,onChange:function(e,t){l(t)},valueLabelDisplay:"auto","aria-labelledby":"continuous-slider",min:0,max:100,style:{width:"29ch",margin:"0 0.5rem"}})),u.a.createElement("div",{className:i.randomPattern},u.a.createElement(f.a,{size:"small",variant:"contained",color:"primary",onClick:function(t){t.preventDefault(),e.randomPattern(r/100)}},"Random pattern")))}var g=a(9),y=a.n(g),O=(a(72),a(73)),b=O.nextGen,P=O.fillPattern,w=O.getRandomCell,E=a(74),C=E.defaultPatternList,k=E.compressPattern,R=a(75),x=R.Load,G=R.Save,j=R.Play,N=R.ResizeCells,S=R.Footer;function z(e){return u.a.createElement("td",{className:"cell ".concat(e.className),onClick:e.onClick})}var I=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){return Object(l.a)(this,a),console.log("Grid contructor again"),t.call(this,e)}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){console.log("grid unmounted"),clearInterval(this.interval)}},{key:"renderCell",value:function(e,t){var a=this;return u.a.createElement(z,{key:e*this.props.noOfRows+t,value:this.props.cells[e][t],onClick:function(){return a.props.handleCellClick(e,t)},className:this.props.cells[e][t]?"live":"dead"})}},{key:"render",value:function(){var e=this;return this.props.toPlay?(clearInterval(this.interval),this.interval=setInterval((function(){return e.props.upgradeGrid()}),1e3*this.props.interval)):clearInterval(this.interval),u.a.createElement("div",null,"Generation #",this.props.generation,u.a.createElement("table",{className:"holder"},u.a.createElement("tbody",null,this.props.cells.map((function(t,a){return u.a.createElement("tr",{className:"grid-row",key:a},t.map((function(t,n){return e.renderCell(a,n)})))})))))}}]),a}(u.a.Component),L=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var i=localStorage.getItem("patternList");i?i=JSON.parse(i):(i=C,localStorage.setItem("patternList",JSON.stringify(i)));var o=n.getNoOfRows();return n.state={noOfRows:o,currentPattern:null},n.state={patternExamples:i,currentPattern:null,noOfRows:n.state.noOfRows,cells:P(n.state.noOfRows,n.state.currentPattern),toPlay:!1,interval:.5,generation:0},n.handleDropdownChange=n.handleDropdownChange.bind(Object(r.a)(n)),n.playOrPause=n.playOrPause.bind(Object(r.a)(n)),n.handleCellClick=n.handleCellClick.bind(Object(r.a)(n)),n.upgradeGrid=n.upgradeGrid.bind(Object(r.a)(n)),n.savePattern=n.savePattern.bind(Object(r.a)(n)),n.randomPattern=n.randomPattern.bind(Object(r.a)(n)),n.clearGrid=n.clearGrid.bind(Object(r.a)(n)),n.fitGridToWindow=n.fitGridToWindow.bind(Object(r.a)(n)),n.resizeGrid=n.resizeGrid.bind(Object(r.a)(n)),n}return Object(i.a)(a,[{key:"clearGrid",value:function(){this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfRows:e.noOfRows,cells:P(e.noOfRows,null),toPlay:!1,interval:e.interval,generation:0}}))}},{key:"randomPattern",value:function(e){for(var t=this.state.cells.slice(),a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++)t[a][n]=w(e);this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfRows:e.noOfRows,cells:t,toPlay:!1,interval:e.interval,generation:0}}))}},{key:"savePattern",value:function(e){var t=this.state.cells.slice(),a=k(t),n={name:e,rows:a.length,columns:a[0].length,data:a},r=JSON.parse(localStorage.getItem("patternList"));r.push(n),localStorage.setItem("patternList",JSON.stringify(r)),this.setState((function(e){return{patternExamples:r,currentPattern:e.currentPattern,noOfRows:e.noOfRows,cells:e.cells,toPlay:e.toPlay,interval:e.interval,generation:e.generation}}))}},{key:"upgradeGrid",value:function(){var e=b(this.state.noOfRows,this.state.cells),t=Object(n.a)(e,2),a=t[0],r=t[1],l=this.state.toPlay;r&&(l=!1),this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfRows:e.noOfRows,cells:a,toPlay:l,interval:e.interval,generation:e.generation+1}}))}},{key:"handleCellClick",value:function(e,t){var a=this.state.cells.slice();a[e][t]=1-a[e][t],this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfRows:e.noOfRows,cells:a,toPlay:!1,interval:e.interval,generation:0}}))}},{key:"handleDropdownChange",value:function(e){var t=JSON.parse(JSON.stringify(this.state.patternExamples[e.target.value]));this.setState({patternExamples:this.state.patternExamples,currentPattern:t,noOfRows:this.state.noOfRows,cells:P(this.state.noOfRows,t),toPlay:!1,interval:this.state.interval,generation:0})}},{key:"playOrPause",value:function(e){this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfRows:e.noOfRows,cells:e.cells,toPlay:!e.toPlay,interval:e.interval,generation:e.generation}}))}},{key:"render",value:function(){return u.a.createElement("div",{className:"game"},u.a.createElement("div",{className:"menu"},u.a.createElement("div",{className:"topBar",style:{margin:"0.25rem"}},u.a.createElement(x,{patternName:"",handleDropdownChange:this.handleDropdownChange,patternExamples:this.state.patternExamples}),u.a.createElement(j,{playOrPause:this.playOrPause,toPlay:this.state.toPlay,upgradeGrid:this.upgradeGrid,clearGrid:this.clearGrid})),u.a.createElement(G,{disabled:this.state.toPlay,onClick:this.savePattern}),u.a.createElement(v,{randomPattern:this.randomPattern}),u.a.createElement(N,{key:this.state.noOfRows,resizeGrid:this.resizeGrid,noOfRows:this.state.noOfRows})),u.a.createElement("div",{id:"game-grid",className:"game-grid"},u.a.createElement(I,{currentPattern:this.state.currentPattern,noOfRows:this.state.noOfRows,cells:this.state.cells,toPlay:this.state.toPlay,handleCellClick:this.handleCellClick,upgradeGrid:this.upgradeGrid,interval:this.state.interval,generation:this.state.generation})),u.a.createElement(S,null))}},{key:"componentDidMount",value:function(){this.fitGridToWindow(),window.addEventListener("resize",this.fitGridToWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.fitGridToWindow)}},{key:"fitGridToWindow",value:function(){var e=this.getNoOfRows();e!==this.state.noOfRows&&this.resizeGrid(e)}},{key:"getNoOfRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25,t=window.innerWidth-39.552,a=Math.floor(t/20)-1,n=Math.min(e,a);return n}},{key:"resizeGrid",value:function(e){var t=this.getNoOfRows(e);this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:null,noOfRows:t,cells:P(t,e.currentPattern),toPlay:!1,interval:.5,generation:0}}))}}]),a}(u.a.Component);y.a.render(u.a.createElement(L,null),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.cb86a6ce.chunk.js.map