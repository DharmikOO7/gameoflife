(this.webpackJsonpgameoflife=this.webpackJsonpgameoflife||[]).push([[0],{28:function(e,t,a){e.exports=a(40)},37:function(e,t,a){},38:function(e,t){function a(e,t,a,n){var r=function(e,t,a,n){for(var r=0,l=-1;l<2;l++)for(var o=-1;o<2;o++){var s=(e+l)%n,i=(t+o)%n;s<0&&(s=n+s),i<0&&(i=n+i),r+=a[s][i]}return r-=a[e][t]}(e,t,n,a),l=n[e][t];return 1===n[e][t]?r<2?l=0:2===r||3===r?l=1:r>3&&(l=0):3===r&&(l=1),l}function n(e){for(var t=new Array(e),a=0;a<e;a++)t[a]=Array(e).fill(0);return t}e.exports={initialize2dArray:n,nextGen:function(e,t){for(var r=n(e),l=!0,o=0;o<e;o++)for(var s=0;s<e;s++)r[o][s]=a(o,s,e,t),l&&r[o][s]!==t[o][s]&&(l=!1);return[r,l]},fillPattern:function(e,t){var a=n(e);if(!t||t.rows>e||t.columns>e)return a;for(var r=[Math.floor(e/2),Math.floor(e/2)],l=[Math.floor(t.rows/2),Math.floor(t.columns/2)],o=r[1]-l[1],s=0,i=r[0]-l[0];s<t.rows;s++,i++)for(var c=0,u=o;c<t.columns;c++,u++)a[i][u]=t.data[s][c];return a},getRandomCell:function(e){return Math.random()<parseFloat(e)?1:0}}},39:function(e,t){e.exports={defaultPatternList:[{name:"Glider",rows:3,columns:3,data:[[0,1,0],[0,0,1],[1,1,1]]},{name:"Blinker",rows:1,columns:3,data:[[1,1,1]]},{name:"Beacon",rows:4,columns:4,data:[[1,1,0,0],[1,1,0,0],[0,0,1,1],[0,0,1,1]]}],compressPattern:function(e){var t=e.filter((function(e){return-1!==e.indexOf(1)})),a=t.map((function(e){return e.indexOf(1)})).reduce((function(e,t){return e>t?t:e}),t[0].length-1);console.log("leftMostNonEmptyCol",a);var n=t.map((function(e){return e.lastIndexOf(1)})).reduce((function(e,t){return e<t?t:e}),0);console.log("rightMostNonEmptyCol",n);for(var r=0;r<a;r++)for(var l=0;l<t.length;l++)t[l][r]=void 0;for(var o=n+1;o<t[0].length;o++)for(var s=0;s<t.length;s++)t[s][o]=void 0;return console.table(t),t=t.map((function(e){return e.filter((function(e){return 0===e||1===e}))})),console.table(t),t}}},40:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(3),l=a(13),o=a(14),s=a(16),i=a(15),c=a(0),u=a.n(c),f=a(52),p=a(54);function h(e){var t=u.a.useState(50),a=Object(n.a)(t,2),r=a[0],l=a[1];return u.a.createElement("div",null,u.a.createElement(f.a,{id:"continuous-slider",gutterBottom:!0},"Probability(",r,"%) of live cell"),u.a.createElement(p.a,{defaultValue:50,value:r,onChange:function(e,t){l(t)},valueLabelDisplay:"auto","aria-labelledby":"continuous-slider",min:0,max:100}),u.a.createElement("button",{style:{float:"left"},onClick:function(t){t.preventDefault(),e.randomPattern(r/100)}},"Random pattern"))}var d=a(19),m=a.n(d),v=(a(37),a(38)),g=v.nextGen,b=v.fillPattern,C=v.getRandomCell,O=a(39),P=O.defaultPatternList,y=O.compressPattern;function E(e){return u.a.createElement("td",{className:"cell ".concat(e.className),onClick:e.onClick},e.i,",",e.j)}var k=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){return Object(l.a)(this,a),console.log("Grid contructor again"),t.call(this,e)}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){console.log("grid unmounted"),clearInterval(this.interval)}},{key:"renderCell",value:function(e,t){var a=this;return u.a.createElement(E,{key:e*this.props.noOfCells+t,value:this.props.cells[e][t],i:e,j:t,onClick:function(){return a.props.handleCellClick(e,t)},className:this.props.cells[e][t]?"live":"dead"})}},{key:"render",value:function(){var e=this;return this.props.toPlay?(clearInterval(this.interval),this.interval=setInterval((function(){return e.props.upgradeGrid()}),1e3*this.props.interval)):clearInterval(this.interval),u.a.createElement("div",null,"Generation #",this.props.generation,u.a.createElement("table",{className:"holder"},u.a.createElement("tbody",null,this.props.cells.map((function(t,a){return u.a.createElement("tr",{className:"grid-row",key:a},t.map((function(t,n){return e.renderCell(a,n)})))})))))}}]),a}(u.a.Component),j=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e);var o=localStorage.getItem("patternList");return o?o=JSON.parse(o):(o=P,localStorage.setItem("patternList",JSON.stringify(o))),n.state={noOfCells:25,currentPattern:null},n.state={patternExamples:o,currentPattern:null,noOfCells:n.state.noOfCells,cells:b(n.state.noOfCells,n.state.currentPattern),toPlay:0,interval:.5,generation:0},n.handleDropdownChange=n.handleDropdownChange.bind(Object(r.a)(n)),n.playOrPause=n.playOrPause.bind(Object(r.a)(n)),n.handleCellClick=n.handleCellClick.bind(Object(r.a)(n)),n.upgradeGrid=n.upgradeGrid.bind(Object(r.a)(n)),n.savePattern=n.savePattern.bind(Object(r.a)(n)),n.randomPattern=n.randomPattern.bind(Object(r.a)(n)),n.clearGrid=n.clearGrid.bind(Object(r.a)(n)),n}return Object(o.a)(a,[{key:"clearGrid",value:function(){this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfCells:e.noOfCells,cells:b(e.noOfCells,null),toPlay:!1,interval:e.interval,generation:0}}))}},{key:"randomPattern",value:function(e){for(var t=this.state.cells.slice(),a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++)t[a][n]=C(e);this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfCells:e.noOfCells,cells:t,toPlay:!1,interval:e.interval,generation:0}}))}},{key:"savePattern",value:function(e){var t=this.state.cells.slice(),a=y(t),n={name:e,rows:a.length,columns:a[0].length,data:a},r=JSON.parse(localStorage.getItem("patternList"));r.push(n),localStorage.setItem("patternList",JSON.stringify(r)),this.setState((function(e){return{patternExamples:r,currentPattern:e.currentPattern,noOfCells:e.noOfCells,cells:e.cells,toPlay:e.toPlay,interval:e.interval,generation:e.generation}}))}},{key:"upgradeGrid",value:function(){var e=g(this.state.noOfCells,this.state.cells),t=Object(n.a)(e,2),a=t[0],r=t[1],l=this.state.toPlay;r&&(l=!1),this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfCells:e.noOfCells,cells:a,toPlay:l,interval:e.interval,generation:e.generation+1}}))}},{key:"handleCellClick",value:function(e,t){var a=this.state.cells.slice();a[e][t]=1-a[e][t],this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfCells:e.noOfCells,cells:a,toPlay:!1,interval:e.interval,generation:0}}))}},{key:"handleDropdownChange",value:function(e){var t=JSON.parse(JSON.stringify(this.state.patternExamples[e.target.value]));this.setState({patternExamples:this.state.patternExamples,currentPattern:t,noOfCells:this.state.noOfCells,cells:b(this.state.noOfCells,t),toPlay:!1,interval:this.state.interval,generation:0})}},{key:"playOrPause",value:function(e){this.setState((function(e){return{patternExamples:e.patternExamples,currentPattern:e.currentPattern,noOfCells:e.noOfCells,cells:e.cells,toPlay:!e.toPlay,interval:e.interval,generation:e.generation}}))}},{key:"render",value:function(){return u.a.createElement("div",{className:"game"},u.a.createElement("div",{className:"menu"},u.a.createElement(S,{handleDropdownChange:this.handleDropdownChange,patternExamples:this.state.patternExamples}),u.a.createElement("br",null),u.a.createElement("button",{style:{float:"left"},onClick:this.playOrPause},this.state.toPlay?"Pause":"Play"),u.a.createElement("br",null),u.a.createElement(x,{disabled:this.state.toPlay,onClick:this.savePattern}),u.a.createElement("br",null),u.a.createElement(h,{randomPattern:this.randomPattern}),u.a.createElement("br",null),u.a.createElement("button",{onClick:this.clearGrid},"Clear grid")),u.a.createElement("div",{className:"game-grid",style:{float:"right"}},u.a.createElement(k,{currentPattern:this.state.currentPattern,noOfCells:this.state.noOfCells,cells:this.state.cells,toPlay:this.state.toPlay,handleCellClick:this.handleCellClick,upgradeGrid:this.upgradeGrid,interval:this.state.interval,generation:this.state.generation})))}}]),a}(u.a.Component),S=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return u.a.createElement("label",null,"Select a pattern: ",u.a.createElement("br",null),u.a.createElement("select",{defaultValue:!0,onChange:this.props.handleDropdownChange},u.a.createElement("option",{disabled:!0,value:!0},"Select pattern"),this.props.patternExamples.map((function(e,t){return u.a.createElement("option",{key:t,value:t},e.name)}))))}}]),a}(u.a.Component),x=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleChange=n.handleChange.bind(Object(r.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(r.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onClick(this.state.value),this.setState({value:""})}},{key:"render",value:function(){return u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("label",null,"Save the current pattern:",u.a.createElement("br",null),u.a.createElement("input",{type:"text",value:this.state.value,placeholder:"Pattern name",onChange:this.handleChange,disabled:this.props.disabled}),u.a.createElement("button",{disabled:this.props.disabled||!this.state.value},"Save")))}}]),a}(u.a.Component);m.a.render(u.a.createElement(j,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.3c87f4a4.chunk.js.map